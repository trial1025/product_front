import{_ as x}from"./user-a7f6648a.js";import{_ as y,N as b,M as v,L as C,P as V,Q as k,S as w,T as e,c as t,at as P,V as p,au as i,$ as c,a1 as r,J as B,ao as R,a6 as L}from"./index-197d9177.js";import{a as o}from"./VCol-51a39ae5.js";import{V as N}from"./VRow-6f4481b0.js";const S={__name:"ProductCard",props:["_id","category","subs","condition","description","image","name","price","sell","account"],setup(a){const{apiAuth:f}=L(),d=b(),u=v(),m=C(),_=a,h=async()=>{var l,n;if(!d.isLogin){m.push("/login");return}try{const{data:s}=await f.patch("/users/favorite",{product:_._id});d.favorite=s.result,u({text:"加入最愛成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}})}catch(s){const g=((n=(l=s==null?void 0:s.response)==null?void 0:l.data)==null?void 0:n.message)||"發生錯誤，請稍後再試";u({text:g,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(l,n)=>{const s=V("RouterLink");return k(),w(R,{class:"product-card",rounded:"",hover:"",height:"350px","d-flex":"","justify-center":"",style:{"text-align":"left"}},{default:e(()=>[t(o,null,{default:e(()=>[t(N,null,{default:e(()=>[t(o,{cols:"3",style:{height:"40px"}},{default:e(()=>[t(P,{size:"30",style:{"margin-left":"30%"}},{default:e(()=>[t(p,{src:x})]),_:1})]),_:1}),t(o,{cols:"9",style:{height:"40px"}},{default:e(()=>[t(i,{class:"py-1 m-0"},{default:e(()=>[c(r(a.account),1)]),_:1})]),_:1}),t(o,{class:"pb-0",cols:"12"},{default:e(()=>[t(p,{cols:"10",src:a.image,cover:"",style:{width:"90%",height:"200px",margin:"auto",borderRadius:"10px"}},null,8,["src"]),t(s,{class:"name ml-4",to:"/products/"+a._id},{default:e(()=>[c(r(a.name),1)]),_:1},8,["to"])]),_:1}),t(o,{class:"py-0",cols:"9"},{default:e(()=>[t(i,{class:"p4",style:{"font-size":"large","font-weight":"bolder"}},{default:e(()=>[c("NT$"+r(a.price),1)]),_:1}),t(i,{class:"p4"},{default:e(()=>[c(r(a.condition),1)]),_:1})]),_:1}),t(o,{cols:"3"},{default:e(()=>[t(B,{class:"pa-0",block:"",color:"red",variant:"text","x-small":"","prepend-icon":"mdi-cards-heart-outline",onClick:h})]),_:1})]),_:1})]),_:1})]),_:1})}}},$=y(S,[["__scopeId","data-v-9c1c7bb6"]]);export{$ as P};
