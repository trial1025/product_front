import{_ as C,Z as V,Y as b,X as v,a0 as w,a1 as m,a3 as h,a4 as o,c as a,ai as d,a9 as u,ab as p,V as P,aj as B,J as R,ak as A,ac as k,x,A as S,al as L,a2 as N,a7 as T,a6 as j,af as z,am as D,an as I}from"./index-ef3c5b3f.js";import{V as U}from"./VContainer-d95f72b0.js";import{V as y,a as $}from"./VRow-5df76110.js";import{V as q}from"./VDivider-fb440ac3.js";const E={__name:"ProductCard",props:["_id","category","subs","condition","description","image","name","price","sell","account"],setup(s){const{apiAuth:_}=k(),n=V(),l=b(),i=v(),f=s,r=async()=>{var c,t;if(!n.isLogin){i.push("/login");return}try{const{data:e}=await _.patch("/users/cart",{product:f._id,quantity:1});n.cart=e.result,l({text:"新增成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}})}catch(e){const g=((t=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:t.message)||"發生錯誤，請稍後再試";l({text:g,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(c,t)=>{const e=w("RouterLink");return m(),h(A,{class:"product-card",rounded:"",hover:"",height:"350px",style:{"text-align":"left"}},{default:o(()=>[a(d,{style:{"padding-top":"4px","padding-bottom":"4px"}},{default:o(()=>[u(p(s.account),1)]),_:1}),a(P,{src:s.image,cover:"",style:{width:"90%",height:"200px",margin:"auto",borderRadius:"10px"}},null,8,["src"]),a(d,{class:"p4"},{default:o(()=>[a(e,{class:"text-decoration-none",to:"/products/"+s._id,style:{"padding-top":"2px","padding-bottom":"2px",color:"black"}},{default:o(()=>[u(p(s.name),1)]),_:1},8,["to"])]),_:1}),a(d,{class:"p4",style:{"font-size":"large","font-weight":"bolder"}},{default:o(()=>[u("NT$"+p(s.price),1)]),_:1}),a(d,{class:"p4"},{default:o(()=>[u(p(s.condition),1)]),_:1}),a(B,{class:"p4"},{default:o(()=>[a(R,{color:"red","prepend-icon":"mdi-cards-heart-outline",onClick:r})]),_:1})]),_:1})}}},F=C(E,[["__scopeId","data-v-c2e4ce46"]]),J=z("h1",null,"商品列表",-1),G={__name:"SellView",setup(s){const _=V(),{apiAuth:n}=k(),l=b(),i=x([]),f=x({account:_.account});return S(async()=>{var r,c;try{const{data:t}=await n.get("/products",{params:{itemsPerPage:-1}}),e=t.result.data.filter(g=>g.account!==f.value.account);i.value.push(...e),await L()}catch(t){console.log(t);const e=((c=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:c.message)||"發生錯誤，請稍後再試";l({text:e,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}}),(r,c)=>(m(),h(U,{cols:"8",style:{"background-color":"lightcoral"}},{default:o(()=>[a($,{justify:"center","align-item-center":""},{default:o(()=>[a(y,{cols:"10"},{default:o(()=>[J]),_:1}),a(q),(m(!0),N(j,null,T(i.value,t=>(m(),h(y,{key:t._id,cols:"12",sm:"6",md:"4",lg:"3",xl:"2"},{default:o(()=>[a(F,D(I(t)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{G as default};
