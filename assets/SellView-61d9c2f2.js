import{_ as k,M as h,L as v,K as P,O as w,P as n,R as f,S as t,c as e,a8 as R,V as y,a9 as r,Z as c,a1 as l,aa as B,J as A,ab as S,x as V,A as L,ac as N,a2 as T,Q as z,W as U,U as j,a5 as D,ad as I,ae as M}from"./index-ca79e1a9.js";import{_ as $}from"./user-a7f6648a.js";import{V as o}from"./VCol-48ed8392.js";import{V as d}from"./VRow-7f0ebc87.js";import{V as E}from"./VContainer-48439a55.js";import{V as F}from"./VDivider-f57fd27d.js";const J={__name:"ProductCard",props:["_id","category","subs","condition","description","image","name","price","sell","account"],setup(s){return h(),v(),P(),(p,g)=>{const u=w("RouterLink");return n(),f(S,{class:"product-card",rounded:"",hover:"",height:"350px","d-flex":"","justify-center":"",style:{"text-align":"left"}},{default:t(()=>[e(o,null,{default:t(()=>[e(d,null,{default:t(()=>[e(o,{cols:"2"},{default:t(()=>[e(R,{class:"mb-2",size:"30",style:{"margin-left":"10px"}},{default:t(()=>[e(y,{src:$})]),_:1})]),_:1}),e(o,{cols:"10"},{default:t(()=>[e(r,{class:"py-1 m-0"},{default:t(()=>[c(l(s.account),1)]),_:1})]),_:1})]),_:1}),e(y,{src:s.image,cover:"",style:{width:"90%",height:"200px",margin:"auto",borderRadius:"10px"}},null,8,["src"]),e(r,{class:"py-1"},{default:t(()=>[c(l(s.category),1),e(u,{class:"text-decoration-none",to:"/products/"+s._id,style:{"padding-top":"2px","padding-bottom":"2px",color:"black"}},{default:t(()=>[c(l(s.name),1)]),_:1},8,["to"])]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(o,{class:"ml-2 py-0",cols:"7"},{default:t(()=>[e(r,{class:"p4",style:{"font-size":"large","font-weight":"bolder"}},{default:t(()=>[c("NT$"+l(s.price),1)]),_:1}),e(r,{class:"p4"},{default:t(()=>[c(l(s.condition),1)]),_:1})]),_:1}),e(o,{class:"ml-2 py-0",cols:"4"},{default:t(()=>[e(B,{class:"p4"},{default:t(()=>[e(A,{color:"red","prepend-icon":"mdi-cards-heart-outline"})]),_:1})]),_:1})]),_:1})]),_:1})}}},K=k(J,[["__scopeId","data-v-d04e00e8"]]),O=D("h2",null,"商品列表",-1),X={__name:"SellView",setup(s){const p=h(),{apiAuth:g}=T(),u=v(),x=V([]),b=V({account:p.account});return L(async()=>{var i,_;try{const{data:a}=await g.get("/products",{params:{itemsPerPage:-1}}),m=a.result.data.filter(C=>C.account!==b.value.account);x.value.push(...m),await N()}catch(a){console.log(a);const m=((_=(i=a==null?void 0:a.response)==null?void 0:i.data)==null?void 0:_.message)||"發生錯誤，請稍後再試";u({text:m,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}}),(i,_)=>(n(),f(E,null,{default:t(()=>[e(d,{justify:"center","align-item-center":""},{default:t(()=>[e(o,{cols:"8"},{default:t(()=>[O]),_:1}),e(F),e(o,{cols:"8"},{default:t(()=>[e(d,null,{default:t(()=>[(n(!0),z(j,null,U(x.value,a=>(n(),f(o,{class:"mb-4",key:a._id,cols:"12",md:"4",lg:"4",xl:"3"},{default:t(()=>[e(K,I(M(a)),null,16)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{X as default};
